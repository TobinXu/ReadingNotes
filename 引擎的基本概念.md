引擎的基本概念

1. 画布 一张纸

2. 舞台 纸上面的一个作画范围

3. 显示对象，一切起作用的对象，包括对象的容器。（可见如图片文字，不可见如音频等

4. 只有节点可以添加子节点显示对象和非节点显示对象，

   ```tsx
   laya.display.Node
   ```

5. 

## 动画播放

动画图集资源需注意一些情况，像角色类动画因为帧数较多，一般是一套角色图一个资源，在命名上根据动作名称加帧序号命名。

![图片2.png](https://official.layabox.com/laya_data/LayaAir2.0/Chinese/LayaAir_TS/2D/beginners/animation/atlas/img/2.png)

1. 通过laya.display.Animation类的loadAtlas()方法加载角色图集动画资源。

2. 使用```tsx  play(start:*=0,loop:Boolean = true,name:String):void``` 播放动画。

3. 在一个图集中有多个动画，可以使用 ```tsx createFrames(url:*,name:String):Array``` 方法创建每一个动画的模板。

4. 利用以上三个介绍的方法做一个一个播放眩晕的完整实例：

   ``` tsx
   class AtlasAniDemo{
     private roleAni:Laya.Animation;
     constructor()
     {
       // 初始化舞台
       Laya.init(1334,750,Laya.WebGl);
       // 创建动画实例
       this.roleAni = new Laya.Animation();
       // 加载动画图集，加载成功后执行回调方法
       this.roleAni.loadAtlas("res/atlas/role.atlas",Laya.Handler.create(this,this.onLoaded));
     }
     private onLoaded():void {
       // 添加到舞台
       Laya.stage.addChild(this.roleAni);
       // 创建动画模板dizziness
       Laya.Animation.createFrames(this.aniUrls("die",6),"dizziness");
       // 循环播放动画
       this.roleAni.play(0,true,"dizziness");
     }
     /** 
     创建一组动画的url数组（美术资源地址数组）
     aniName 动作的名称，用于生成url
     length 动画最后一帧的索引值
     **/
     private aniUrls(aniName:string,length:number):any {
       let urls:any = [];
       for (let i = 0; i < lenght;i++) {
         // 动画资源路径要和动画图集打包前的资源命名对应起来
         urls.push("role/"+aniName+i+"png");
       }
       return urls;
     }
   }
   new AtlasAniDemo();
   ```

5. 除了静态方法createFrames()创建动画模板外，还可以用loadImages()方法来实现播放图集中制定的眩晕动画效果。```loadImages(urls:Array,cacheName:String):Animation```

   实例：

   ```tsx
   // 程序入口
   class AtlasAniDemo() {
     private roleAni:Laya.Animation;
     constructor() 
     {
       // 初始化舞台
       Laya.init(1334,754,Laya.WebGl);
       // 加载完动画的图集后执行回调方法onLoaded
       Laya.loader.load('red/atlas/role.atls',Laya.Handler.create(this,this.onLoaded));
     }
     private onLoaded():void{
       // 创建动画实例
       this.roleAni = new Laya.Animation();
     // 添加到舞台
     Laya.stage.addChild(this.roleAni);
     // 通过数组加载动画资源，然后用play()方法直接播放。由于loadImages方法返回的是Animation对象本身，可以直接使用"loadImages().play()"语法。
     this.roleAni.loadImages(this.aniUrls("move",6)).play();
     }
   /**
        * 创建一组动画的url数组（美术资源地址数组）
        * aniName  动作的名称，用于生成url
        * length   动画最后一帧的索引值，
        */   
   	private aniUrls(aniName:string,length:number):any{
       var urls:array = [];
       for (let i = 0; i < length; i++) {
         // 动画资源路径要和动画图集打包前的资源命名对应起来
         urls.push("role/"+aniName+i+".png");
       }
       return urls;
     }
   }
   new AtlasAniDemo();
   ```

   